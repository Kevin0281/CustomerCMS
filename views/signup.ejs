<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | Sign Up</title>

    <link rel="stylesheet" href="./signup.css">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <%- include('partials/header') -%>

        <main>
            <div id="signup-section">
                <form id="signup-form" action="/signup" method="post">
                    <h2>Sign Up</h2>
                    <label for="email">Email</label>
                    <div class="email error"></div>
                    <input type="email" name="email" required>
                    <label for="password">Password</label>
                    <div class="password error"></div>
                    <input type="password" name="password" required>
                    <button>Sign Up</button>
                </form>
            </div>
        </main>

        <%- include('partials/footer') -%>
</body>

<script>
    const form = document.querySelector('form')
    form.addEventListener("submit", async (e) => {
        e.preventDefault()
        
        const email = form.email.value
        const password = form.password.value

        try {

            const res = await fetch("/signup", {
                method: "POST",
                body: JSON.stringify({ email, password }),
                headers: { "Content-Type": "application/json" }
            })

        } catch (error) {
            console.log(error)
        }
    })
</script>

</html>